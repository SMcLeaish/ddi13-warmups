import matplotlib.pyplot as plt
import numpy as np
import polars as pl
from scipy.stats import ttest_1samp

lst = [
    6,
    3,
    4,
    2,
    6,
    1,
    6,
    6,
    2,
    5,
    1,
    1,
    6,
    2,
    6,
    2,
    3,
    3,
    6,
    2,
    2,
    3,
    2,
    6,
    1,
    2,
    2,
    3,
    1,
    6,
    3,
    2,
    6,
    3,
    1,
    3,
    6,
    3,
    6,
    2,
    2,
    2,
    4,
    4,
    3,
    2,
    2,
    4,
    2,
    2,
    2,
    2,
    1,
    2,
    2,
    6,
    4,
    2,
    3,
    3,
    3,
    6,
    1,
    6,
    3,
    3,
    6,
    3,
    3,
    6,
    6,
    1,
    3,
    3,
    4,
    6,
    6,
    4,
    4,
    5,
    2,
    2,
    2,
    2,
    6,
    2,
    3,
    1,
    5,
    2,
    4,
    3,
    2,
    2,
    6,
    4,
    2,
    6,
    2,
    3,
]

df = pl.DataFrame({'nums': lst})
print(
    f'Relative Frequency: {df.select(pl.col("nums").value_counts(normalize=True)).unnest("nums")}'
)
rolls = np.random.randint(1, 7, size=100_000)
mean_rolls = np.mean(rolls)
print(mean_rolls)
tstat, pval = ttest_1samp(lst, mean_rolls)
print(f'tstat: {tstat}, pval: {pval}')
